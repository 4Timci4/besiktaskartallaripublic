import{j as e}from"./ui-8WPU0r-m.js";import{a as s,d as i,N as r}from"./vendor-DxT-Uw0Z.js";import{c as t,i as a,s as l,d as n}from"./index-KWbUu1bC.js";import{M as d}from"./mail-BZPvAhFe.js";import"./supabase-HSrNVv04.js";
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),m=t("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);
/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function x(){const[t,x]=s.useState(""),[h,u]=s.useState(""),[p,f]=s.useState(!1),[g,j]=s.useState(null),[y,w]=s.useState(null),b=i();if(s.useEffect((()=>{(async()=>{const e=await a();w(e)})()}),[]),!0===y)return e.jsx(r,{to:"/admin",replace:!0});if(null===y)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})});return e.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-b from-gray-50 to-gray-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-6 bg-indigo-600 text-white",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-16 w-16 rounded-full bg-white flex items-center justify-center",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})}),e.jsx("h2",{className:"mt-4 text-center text-2xl font-bold",children:"BJK Admin"}),e.jsx("p",{className:"mt-1 text-center text-sm text-indigo-200",children:"Panel erişiminiz için giriş yapın"})]}),e.jsxs("div",{className:"px-8 py-6",children:[g&&e.jsx("div",{className:"mb-4 rounded-lg bg-red-50 p-4 border border-red-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"h-5 w-5 text-red-500"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:g})})]})}),e.jsxs("form",{className:"space-y-5",onSubmit:async function(e){e.preventDefault(),f(!0),j(null);try{const{data:e,error:s}=await l.auth.signInWithPassword({email:t,password:h});if(s)throw s;e.session&&(n(e.session.access_token),b("/admin"))}catch(s){const e=s instanceof Error?s.message:"Bilinmeyen hata";j("Giriş başarısız: "+e)}finally{f(!1)}},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(d,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:e=>x(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"ornek@bjk.com.tr"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Şifre"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(c,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:h,onChange:e=>u(e.target.value),className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Beni hatırla"})]}),e.jsx("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Şifremi unuttum"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:p?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Giriş yapılıyor..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Giriş Yap"]})})})]})]})]}),e.jsx("div",{className:"mt-4 text-center text-xs text-black",children:e.jsxs("p",{children:["Bu panel sadece yetkili BJK personelinin kullanımı içindir.",e.jsx("br",{}),"Yetkisiz erişim girişimleri kaydedilmektedir."]})})]})})}export{x as default};
